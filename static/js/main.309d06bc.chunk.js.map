{"version":3,"sources":["logo.png","hook/fetch-google-sheet.js","ProblemsFilter.js","Problem.js","ProblemsDisplay.js","Recommender.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","useFetchGoogleSheet","url","initialState","postprocess","_useState","useState","_useState2","Object","D_Projects_recommender_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","data","setData","source","google","visualization","Query","setResponse","response","useEffect","D_Projects_recommender_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","D_Projects_recommender_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","result","wrap","_callee$","_context","prev","next","axios","sent","eval","stop","ProblemsFilter","_ref","onUpdate","options","react_default","createElement","Fragment","Dropdown","placeholder","search","fluid","multiple","selection","onChange","event","_ref2","value","Problem","problem","ref","React","createRef","Table","Row","Cell","onClick","current","click","style","cursor","href","Link","Judge","ID","Tags","map","tag","Label","size","ProblemsDisplay","content","problems","id","src_Problem","key","celled","selectable","Body","parseProblemList","sheet","cols","table","col","label","type","sanitizeCell","cell","cellType","v","trim","rows","row","c","reduce","o","slicedToArray","k","objectSpread","defineProperty","split","filter","length","FilterTags","concat","text","Difficulty","Level","toConsumableArray","tags","Set","JSON","stringify","arr","sort","parse","Recommender","_useFetchGoogleSheet","problemList","filters","setFilters","every","includes","src_ProblemsFilter","newFilters","src_ProblemsDisplay","App","Menu","fixed","Item","paddingTop","paddingBottom","Image","src","logo","height","Container","src_Recommender","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.309d06bc.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.2cd414b9.png\";","import { useState, useEffect } from 'react';\r\nimport * as axios from 'axios';\r\n\r\nfunction useFetchGoogleSheet(url, initialState, postprocess) {\r\n  const [data, setData] = useState(initialState);\r\n\r\n  let source = null;\r\n  const google = {\r\n    visualization: {\r\n      Query: {\r\n        setResponse: (response) => {\r\n          source = response;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const result = await axios(url);\r\n      eval(result.data);\r\n      setData(postprocess(source));\r\n    })();\r\n  }, []);\r\n\r\n  return data;\r\n}\r\n\r\nexport default useFetchGoogleSheet;","import React from 'react';\r\nimport { Dropdown } from 'semantic-ui-react';\r\n\r\nfunction ProblemsFilter({ onUpdate, options }) {\r\n  const onChange = (event, { value }) => {\r\n    onUpdate(value);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Dropdown\r\n        placeholder=\"Filter\"\r\n        search\r\n        options={options}\r\n        fluid\r\n        multiple\r\n        selection\r\n        onChange={onChange}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ProblemsFilter;","import React from 'react';\r\nimport { List, Label, Table } from 'semantic-ui-react';\r\n\r\nfunction Problem({ problem }) {\r\n  const ref = React.createRef();\r\n\r\n  return (\r\n    <Table.Row>\r\n      <Table.Cell\r\n        onClick={() => ref.current.click()}\r\n        style={{\r\n          cursor: \"pointer\"\r\n        }}>\r\n        <a href={problem.Link} ref={ref}>\r\n          {problem.Judge} {problem.ID} - {problem.Problem}\r\n          <div>\r\n            {problem.Tags.map((tag) => (\r\n              <>\r\n                <Label size=\"mini\">{tag}</Label>\r\n              </>\r\n            ))}\r\n          </div>\r\n        </a>\r\n      </Table.Cell>\r\n    </Table.Row >\r\n  )\r\n}\r\n\r\nexport default Problem;","import React from 'react';\r\nimport { List, Table } from 'semantic-ui-react';\r\nimport Problem from './Problem';\r\n\r\nfunction ProblemsDisplay({ problems }) {\r\n  const content = problems.map((problem, id) => (\r\n    <Problem problem={problem} key={id} />\r\n  ))\r\n\r\n  return (\r\n    <Table celled selectable>\r\n      <Table.Body>\r\n        {content}\r\n      </Table.Body>\r\n    </Table>\r\n  );\r\n}\r\n\r\nexport default ProblemsDisplay;\r\n","import React, { useState } from 'react';\r\nimport ProblemsFilter from './ProblemsFilter';\r\nimport ProblemsDisplay from './ProblemsDisplay';\r\nimport useFetchGoogleSheet from './hook/fetch-google-sheet';\r\n\r\n/**\r\n * Handle data fetching and the communication between display elements.\r\n */\r\n\r\nfunction parseProblemList(sheet) {\r\n  const cols = sheet.table.cols.map((col) => ({\r\n    label: col.label,\r\n    type: col.type,\r\n  }));\r\n\r\n  const sanitizeCell = (cell, cellType) => {\r\n    if (cell && cell.v) {\r\n      if (cellType === \"number\")\r\n        return cell.v;\r\n      return cell.v.trim();\r\n    } else {\r\n      if (cellType === \"number\")\r\n        return 0;\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  const problems = sheet.table.rows.map((row) => {\r\n    const problem = row.c.map((cell, id) => [cols[id].label, sanitizeCell(cell, cols[id].type)])\r\n      .reduce((o, [k, v]) => ({ ...o, [k]: v }), {});\r\n\r\n    problem.Tags = problem.Tags.split(\",\")\r\n      .map((tag) => tag.trim())\r\n      .filter((tag) => tag.length != 0);\r\n\r\n    problem.FilterTags = [\r\n      {\r\n        key: `judge:${problem.Judge}`,\r\n        value: `judge:${problem.Judge}`,\r\n        text: `Judge: ${problem.Judge}`\r\n      },\r\n      {\r\n        key: `difficulty:${problem.Difficulty}`,\r\n        value: `difficulty:${problem.Difficulty}`,\r\n        text: `Difficulty: ${problem.Difficulty}`\r\n      },\r\n      {\r\n        key: `level:${problem.Level}`,\r\n        value: `level:${problem.Level}`,\r\n        text: `Level: ${problem.Level}`\r\n      },\r\n      ...problem.Tags.map((tag) => ({\r\n        key: `tag:${tag}`,\r\n        value: `tag:${tag}`,\r\n        text: `Tag: ${tag}`\r\n      }))\r\n    ];\r\n\r\n    return problem;\r\n  });\r\n\r\n  const unique = (x) => [...new Set(x)];\r\n\r\n  const tags =\r\n    [...new Set(problems\r\n      .map((problem) => problem.FilterTags.map((tag) => JSON.stringify(tag)))\r\n      .reduce((arr, tags) => arr.concat(tags), []))]\r\n      .sort()\r\n      .map(JSON.parse);\r\n\r\n  return { problems, tags };\r\n}\r\n\r\nfunction Recommender() {\r\n  const { problems: problemList, tags } = useFetchGoogleSheet(\r\n    \"https://docs.google.com/a/google.com/spreadsheets/d/1mYZSziPP8-2a9lQeSjXm7FwRqilwgsL8MIHeER0BmGo/gviz/tq?tq=select%20*\",\r\n    {\r\n      problems: [],\r\n      tags: []\r\n    },\r\n    parseProblemList\r\n  );\r\n\r\n  const [filters, setFilters] = useState([]);\r\n  const onFilterUpdate = (newFilters) => { setFilters(newFilters); };\r\n\r\n  const problems = problemList.filter((problem) =>\r\n    filters.every((filter) => problem.FilterTags.map((tag) => tag.value).includes(filter)));\r\n\r\n  return (\r\n    <>\r\n      {/* <pre>{JSON.stringify(tags,null,4)}</pre> */}\r\n      <ProblemsFilter\r\n        onUpdate={onFilterUpdate}\r\n        options={tags}\r\n      />\r\n      <ProblemsDisplay problems={problems} />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Recommender;","import React from 'react';\nimport {\n  Container,\n  Image,\n  Menu\n} from 'semantic-ui-react'\nimport logo from './logo.png';\nimport Recommender from './Recommender';\n// import logo from './logo.svg';\n// import './App.css';\n\nfunction App() {\n  return (\n    <>\n      <Menu fixed=\"top\">\n        <Menu.Item style={{\n          paddingTop: \"0\",\n          paddingBottom: \"0\"\n        }}>\n          <Image src={logo} style={{ height: \"35px\" }} />\n        </Menu.Item>\n        <Menu.Item>Judge Recommender</Menu.Item>\n      </Menu>\n\n      <Container style={{\n        paddingTop: \"50px\"\n      }}>\n        <Recommender />\n      </Container>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}